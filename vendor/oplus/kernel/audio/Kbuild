$(warning "AUDIO_ROOT value is $(AUDIO_ROOT)")

ifneq ($(findstring audio-kernel,$(AUDIO_ROOT)),)
#Qcom Platform
$(warning "Build audio driver for Qcom plaform")
obj-y += qcom/ codecs/
obj-y += codecs/tfa98xx-v6/
#add for aw882xx bringup
obj-y += codecs/aw882xx/
#add for sipa
obj-y += codecs/sipa/
#add for aw87xxx pa
obj-y += codecs/aw87xxx/
obj-y += qcom/oplus_speaker_manager/
obj-y += codecs/usbc_switch/
# add for audio daemon kernel
obj-y += oplus_audio_daemon/
# add for oplus audio netlink kernel
obj-y += oplus_audio_netlink/

else
#MTK Platform
$(warning "Build audio driver for mtk plaform")

obj-$(CONFIG_OPLUS_MTK_AUDIO_EXT) += mtk/
obj-$(CONFIG_SND_SOC_TFA9873) += codecs/tfa98xx/
obj-$(CONFIG_SND_SOC_TFA9874) += codecs/tfa98xx/
obj-$(CONFIG_SND_SOC_FSA) += codecs/fsa44xx/
obj-$(CONFIG_SND_SOC_TFA_HAPTIC) += codecs/tfa_haptic/
obj-$(CONFIG_SND_SOC_SIA81XX) += codecs/sia81xx/
obj-$(CONFIG_SND_SOC_OPLUS_PA_MANAGER) += mtk/oplus_speaker_manager/
obj-$(CONFIG_SND_SOC_OPLUS_TYPEC_SWITCH) += codecs/oplus_typec_switch/
obj-$(CONFIG_SND_SOC_SIA91XX_V3_1_0) += codecs/sia91xx_v3.1.0/
obj-$(CONFIG_SND_SOC_AW87XXX_2_X_0) += codecs/aw87xxx_2.x.0/
obj-$(CONFIG_SND_SOC_AW882XX) += codecs/aw882xx/
obj-$(CONFIG_SND_SOC_CODEC_AW882XX_V1_13_0) += codecs/aw882xx_v1.13.0/
obj-$(CONFIG_SND_SOC_FS181X) += codecs/frsm_i2ca_v5.2.2/
obj-$(CONFIG_SND_SMARTPA_AW883XX) += codecs/aw883xx/
obj-$(CONFIG_SND_SOC_OPLUS_DISCRETE_TYPEC_SWITCH) += codecs/oplus_discrete_typec_switch/
# add for audio daemon kernel with hifi adsp
obj-$(CONFIG_AUDIO_DAEMON_KERNEL_MTK_HIFI) += oplus_audio_daemon/
# add for audio daemon kernel with rv adsp
obj-$(CONFIG_AUDIO_DAEMON_KERNEL_MTK_RV) += oplus_audio_daemon/
# add for oplus audio netlink kernel
obj-$(CONFIG_AUDIO_NETLINK_KERNEL) += oplus_audio_netlink/
endif
